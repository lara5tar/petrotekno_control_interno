<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Simple de Filtros</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .test-form { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        select, input { padding: 8px; width: 200px; }
        button { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; border-radius: 4px; }
        .link-test { background: #e9ecef; padding: 15px; border-radius: 8px; margin-bottom: 10px; }
        .link-test a { color: #007bff; text-decoration: none; font-weight: bold; }
        .link-test a:hover { text-decoration: underline; }
        .expected { background: #d4edda; padding: 10px; border-radius: 4px; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Prueba Simple - Filtros de Personal</h1>
        
        <div class="expected">
            <strong>üìä Datos esperados:</strong><br>
            ‚Ä¢ Total sin filtros: 2 personas<br>
            ‚Ä¢ Filtro "Activo": 2 personas (ambas son activas)<br>
            ‚Ä¢ Filtro "Categor√≠a 1 (Admin)": 2 personas (ambas son Admin)<br>
            ‚Ä¢ B√∫squeda "ad": 1 persona (Administrador Sistema)
        </div>

        <h2>üîó Pruebas Directas (clic en los enlaces)</h2>
        
        <div class="link-test">
            <strong>Sin filtros:</strong><br>
            <a href="http://127.0.0.1:8000/personal" target="_blank">http://127.0.0.1:8000/personal</a>
            <div class="expected">Debe mostrar 2 personas</div>
        </div>

        <div class="link-test">
            <strong>Filtro por Estado = Activo:</strong><br>
            <a href="http://127.0.0.1:8000/personal?estatus=activo" target="_blank">http://127.0.0.1:8000/personal?estatus=activo</a>
            <div class="expected">Debe mostrar 2 personas + dropdown "Activo" seleccionado</div>
        </div>

        <div class="link-test">
            <strong>Filtro por Categor√≠a = 1 (Admin):</strong><br>
            <a href="http://127.0.0.1:8000/personal?categoria_id=1" target="_blank">http://127.0.0.1:8000/personal?categoria_id=1</a>
            <div class="expected">Debe mostrar 2 personas + dropdown "Admin" seleccionado</div>
        </div>

        <div class="link-test">
            <strong>Filtros Combinados:</strong><br>
            <a href="http://127.0.0.1:8000/personal?estatus=activo&categoria_id=1" target="_blank">http://127.0.0.1:8000/personal?estatus=activo&categoria_id=1</a>
            <div class="expected">Debe mostrar 2 personas + ambos dropdowns seleccionados</div>
        </div>

        <div class="link-test">
            <strong>B√∫squeda por nombre:</strong><br>
            <a href="http://127.0.0.1:8000/personal?buscar=ad" target="_blank">http://127.0.0.1:8000/personal?buscar=ad</a>
            <div class="expected">Debe mostrar 1 persona (Administrador Sistema)</div>
        </div>

        <h2>üìù Formulario Manual</h2>
        
        <div class="test-form">
            <form method="GET" action="http://127.0.0.1:8000/personal" target="_blank">
                <div class="form-group">
                    <label for="buscar">Buscar por nombre:</label>
                    <input type="text" id="buscar" name="buscar" placeholder="Ej: ad">
                </div>

                <div class="form-group">
                    <label for="estatus">Estado:</label>
                    <select id="estatus" name="estatus">
                        <option value="">-- Todos --</option>
                        <option value="activo">Activo</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="categoria_id">Categor√≠a:</label>
                    <select id="categoria_id" name="categoria_id">
                        <option value="">-- Todas --</option>
                        <option value="1">Admin</option>
                        <option value="2">Operador</option>
                        <option value="3">Responsable de obra</option>
                    </select>
                </div>

                <button type="submit">üîç Aplicar Filtros</button>
            </form>
        </div>

        <h2>üìã Instrucciones</h2>
        <ol>
            <li><strong>Primero:</strong> Inicia sesi√≥n en <a href="http://127.0.0.1:8000/login" target="_blank">http://127.0.0.1:8000/login</a></li>
            <li><strong>Luego:</strong> Haz clic en los enlaces de "Pruebas Directas" arriba</li>
            <li><strong>Verifica:</strong> Que los dropdowns muestren la opci√≥n seleccionada</li>
            <li><strong>Alternativa:</strong> Usa el formulario manual para pruebas personalizadas</li>
        </ol>

        <h2>üîß Diagn√≥stico</h2>
        <div class="expected">
            <strong>Si los enlaces directos funcionan:</strong> El problema est√° en JavaScript<br>
            <strong>Si los enlaces directos NO funcionan:</strong> El problema est√° en el backend<br>
            <strong>Si no aparecen los dropdowns seleccionados:</strong> El problema est√° en el HTML
        </div>
    </div>
</body>
</html>